var app=(function f(){var a=function(){alert("initialising")};return{inits:function(){a()},}})();$.widget("lw.closeIt",{options:{isCookiesOn:false},_create:function(){if(this.isCookiesOn()){if($.cookie("cookies")!=="ok"){this.element.parent(".cookiesAlert").show();this.element.bind("click",$.proxy(function(){$.cookie("cookies","ok",{expires:30,path:"/"});this.element.parent(".cookiesAlert").hide()},this))}}else{this.element.parent(".cookiesAlert").hide()}},_destroy:function(){this.element.unbind("click")},isCookiesOn:function(){var a=new Date();a.setTime(a.getTime()+(2000));$.cookie("cookieTest","ok",{expires:a,path:"/"});if($.cookie("cookieTest")==="ok"){return true}else{return false}}});$.widget("lw.menuSelector",{options:{selected:$.noop},_create:function(){console.log(this.options.selected);$("#menu").find("#"+this.options.selected).parent().addClass("selected")}});$.widget("lw.getJson",{options:{templateEl:$.noop,handleData:$.noop,template:$.noop,app_context:app_context,url:"ajax",data:"",ajaxloader:$("<img/>",{id:"ajaxloader",src:app_context+"/resources/images/ajax-loader.gif",style:"visibility:hidden"})},_create:function(){_.templateSettings={interpolate:/\<\@\=(.+?)\@\>/gim,evaluate:/\<\@([\s\S]+?)\@\>/gim,escape:/\<\@\-(.+?)\@\>/gim};if(this.options.templateEl!==$.noop){var a=this.options.templateEl;this.options.template=_.template(a.html())}this.element.bind("click",$.proxy(function(){this.get()},this));this.element.prepend(this.options.ajaxloader)},_setOption:function(a,b){this.options[a]=b;this._update()},_update:function(){this.options.el=this.element;this.options.handleData(this.options.data,this.options)},get:function(){this.options.ajaxloader.css("visibility","visible");var a=$.ajax({url:this.options.app_context+""+this.options.url,type:"GET",timeout:4000}).then($.proxy(function(b){this._setOption("data",b);return b},this),$.proxy(function(b){this.element.text(" failed "+b.statusText)},this),$.proxy(function(){}),this);a.always($.proxy(function(){this.options.ajaxloader.css("visibility","hidden")},this))},_destroy:function(){this.element.unbind();this.element.remove(this.options.ajaxloader)}});